<app-header-app></app-header-app>
<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col>
          <app-menu-nav [currentUrl]="currentUrl"></app-menu-nav>
          <app-header-people [baseUrl]="baseUrl"></app-header-people>
          <app-adress></app-adress>
          <app-slogan [slogan]="'PRÉ-INSCRIPTION WORKSHOPS'"></app-slogan>

      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <p><b>Liste des workshops séléctionnés:</b></p>
        <form [formGroup]="form">
          <ion-list formArrayName="workshops">
            <ion-item #wks[i] *ngFor="let wk of form.get('workshops').controls; let i = index" >
                <ion-label>{{ form?.get('workshops').value[i]?.title?.rendered }} - <small><i>CHF {{form?.get('workshops').value[i]?.ecolage_wk}}.-</i></small></ion-label>
                <ion-button slot="end" fill="clear" color="dark" (click)="removeItem(i)">
                    <ion-icon name="close-circle"></ion-icon>
                </ion-button>
            </ion-item>
          </ion-list> 

          <p><b>Coordonnée:</b></p>
          <ion-list>
            <ion-item>
              <ion-label position="floating">Nom:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="name"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Prenom:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="firstname"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Date de naissance:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="bday"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Profession:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="job"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Email:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="email"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Adresse : rue, numéro:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="adress"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Code postal:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="npa"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Ville:</ion-label>
              <ion-input
                ngDefaultControl
                formControlName="city"></ion-input>
            </ion-item>
          </ion-list>  
        </form>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
          <b>Total écolage : CHF {{totalEcolage || '0'}}.-</b>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <div text-left>
          <ion-button [disabled]="!form.dirty && form.valid" (click)="submit()" >Envoyer inscription</ion-button>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <app-footer></app-footer>
</ion-content>